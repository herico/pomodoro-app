(function(e){function t(t){for(var i,a,s=t[0],c=t[1],l=t[2],u=0,d=[];u<s.length;u++)a=s[u],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);m&&m(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==o[c]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={app:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/pomodoro-app/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var m=c;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"23e1":function(e,t,n){},"3b1d":function(e,t,n){"use strict";n("e3de")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("7a23"),o={class:"container"},r={class:"title"};function a(e,t,n,a,s,c){var l=Object(i["z"])("Nav"),m=Object(i["z"])("Settings");return Object(i["r"])(),Object(i["e"])("div",o,[Object(i["h"])("h1",r,Object(i["B"])(s.title),1),Object(i["h"])(l,{tabs:s.tabs,onChangeTab:c.changeTab},null,8,["tabs","onChangeTab"]),(Object(i["r"])(),Object(i["e"])(i["b"],null,[(Object(i["r"])(),Object(i["e"])(Object(i["A"])(c.currentTabComponent),{"pomodoro-limit":c.pomodoroLimit,"long-break-limit":c.longBreakLimit,"short-break-limit":c.shortBreakLimit},null,8,["pomodoro-limit","long-break-limit","short-break-limit"]))],1024)),Object(i["h"])(m,{fonts:s.fonts,colors:s.colors,timeLimits:s.timeLimits,"hide-modal":s.hideModal,onSaveChanges:c.saveChanges,onFontChanged:c.fontChanged,onColorChanged:c.colorChanged,onOpenModal:t[1]||(t[1]=function(e){return s.hideModal=!1}),onCloseModal:t[2]||(t[2]=function(e){return s.hideModal=!0})},null,8,["fonts","colors","timeLimits","hide-modal","onSaveChanges","onFontChanged","onColorChanged"])])}var s=n("2909");n("7db0"),n("b0c0"),n("d81d"),n("c740");function c(e,t,n,o,r,a){var s=Object(i["z"])("Timer");return Object(i["r"])(),Object(i["e"])(s,{limit:n.pomodoroLimit},null,8,["limit"])}var l=Object(i["K"])("data-v-5cf7add2");Object(i["u"])("data-v-5cf7add2");var m={class:"clock-container"},u={class:"base-timer"},d={class:"base-timer__svg",viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"},h={class:"base-timer__circle"},f=Object(i["h"])("circle",{class:"base-timer__path-elapsed",cx:"50",cy:"50",r:"45"},null,-1),b={class:"base-timer__label"},v={class:"base-timer__action"};Object(i["s"])();var p=l((function(e,t,n,o,r,a){return Object(i["r"])(),Object(i["e"])("div",m,[Object(i["h"])("div",u,[(Object(i["r"])(),Object(i["e"])("svg",d,[Object(i["h"])("g",h,[f,Object(i["h"])("path",{ref:"remainingTime",id:"base-timer-path-remaining","stroke-dasharray":r.FULL_DASH_ARRAY,class:"base-timer__path-remaining",d:"\n                        M 50, 50\n                        m -45, 0\n                        a 45,45 0 1,0 90,0\n                        a 45,45 0 1,0 -90,0\n                        "},null,8,["stroke-dasharray"])])])),Object(i["h"])("div",{class:"base-timer__texts",onClick:t[1]||(t[1]=function(){return a.handleTimer&&a.handleTimer.apply(a,arguments)})},[Object(i["h"])("span",b,Object(i["B"])(a.formatTimeLeft),1),Object(i["h"])("span",v,Object(i["B"])(r.timerText),1)])])])})),O=(n("a9e3"),n("99af"),n("b680"),{emits:["timer-paused"],name:"Timer",props:{limit:{type:Number,default:0}},data:function(){return{timeLeft:this.limit,timePassed:0,timerInterval:null,FULL_DASH_ARRAY:283,circleDasharray:"",TIMER_TEXTS:{start:"Start",pause:"Pause",paused:"Paused",finished:"Finished"},timerText:""}},methods:{startTimer:function(){var e=this;window.navigator.vibrate(200),this.timerInterval=setInterval((function(){e.timePassed=e.timePassed+=1,e.timeLeft=e.limit-e.timePassed,e.timerText=e.TIMER_TEXTS.pause,0===e.timeLeft&&(e.timerText=e.TIMER_TEXTS.finished,clearInterval(e.timerInterval)),e.setCircleDasharray()}),1e3)},calculateTimeFraction:function(){var e=this.timeLeft/this.limit;return e-1/this.limit*(1-e)},setCircleDasharray:function(){var e="".concat((this.calculateTimeFraction()*this.FULL_DASH_ARRAY).toFixed(0)," ").concat(this.FULL_DASH_ARRAY);this.circleDasharray=e,this.$refs.remainingTime.setAttribute("stroke-dasharray",e)},pauseTimer:function(){window.navigator.vibrate(200),clearInterval(this.timerInterval),this.timerInterval=null,this.$emit("timer-paused",this.timeLeft),this.timerText=this.TIMER_TEXTS.paused},handleTimer:function(){this.timerInterval?this.timerInterval&&this.timePassed&&this.pauseTimer():this.startTimer()}},computed:{formatTimeLeft:function(){var e=Math.floor(this.timeLeft/60),t=this.timeLeft%60;return t<10&&(t="0".concat(t)),"".concat(e,":").concat(t)}},watch:{limit:function(e){this.timeLeft=e}},mounted:function(){this.timerText=this.TIMER_TEXTS.start},unmounted:function(){clearInterval(this.timerInterval)}});n("742f");O.render=p,O.__scopeId="data-v-5cf7add2";var j=O,g={name:"Pomodoro",props:["pomodoroLimit"],components:{Timer:j}};g.render=c;var y=g;function C(e,t,n,o,r,a){var s=Object(i["z"])("Timer");return Object(i["r"])(),Object(i["e"])(s,{limit:n.longBreakLimit},null,8,["limit"])}var L={name:"LongBreak",props:["longBreakLimit"],components:{Timer:j}};L.render=C;var T=L;function k(e,t,n,o,r,a){var s=Object(i["z"])("Timer");return Object(i["r"])(),Object(i["e"])(s,{limit:n.shortBreakLimit},null,8,["limit"])}var _={name:"ShortBreak",props:["shortBreakLimit"],components:{Timer:j}};_.render=k;var A=_,M=Object(i["K"])("data-v-4eb55898");Object(i["u"])("data-v-4eb55898");var x={class:"tabs"},I={class:"tab-link",href:"#"};Object(i["s"])();var S=M((function(e,t,n,o,r,a){return Object(i["r"])(),Object(i["e"])("ul",x,[(Object(i["r"])(!0),Object(i["e"])(i["a"],null,Object(i["x"])(n.tabs,(function(e){return Object(i["r"])(),Object(i["e"])("li",{onClick:function(t){return a.changeTab(e)},key:e.text,class:["tab",e.isActive?"active":""]},[Object(i["h"])("a",I,Object(i["B"])(e.text),1)],10,["onClick"])})),128))])})),w={emits:["change-tab"],props:{tabs:{type:Array,required:!0}},methods:{changeTab:function(e){this.$emit("change-tab",e)}}};n("c760");w.render=S,w.__scopeId="data-v-4eb55898";var B=w,F=Object(i["h"])("i",{class:"material-icons"},"settings",-1),E={class:"settings-section time divider"},P=Object(i["h"])("h4",{class:"settings-title"},"time (minutes)",-1),R={class:"time-settings"},N={key:0,role:"alert"},U={class:"settings-section font divider"},D=Object(i["h"])("h4",{class:"settings-title"},"FONT",-1),V={class:"font-settings"},z={class:"settings-section color"},$=Object(i["h"])("h4",{class:"settings-title"},"COLOR",-1),J={class:"font-settings"};function X(e,t,n,o,r,a){var s=Object(i["z"])("Field"),c=Object(i["z"])("Form"),l=Object(i["z"])("modal");return Object(i["r"])(),Object(i["e"])(i["a"],null,[Object(i["h"])("button",{class:"settings",disabled:!n.hideModal,onClick:t[1]||(t[1]=function(){return a.openModal&&a.openModal.apply(a,arguments)})},[F],8,["disabled"]),Object(i["h"])(l,{"hide-modal":n.hideModal,onCloseModal:a.closeModal},{default:Object(i["I"])((function(){return[Object(i["h"])(c,{onSubmit:a.saveChanges},{default:Object(i["I"])((function(e){var t=e.meta;return[Object(i["h"])("article",E,[P,Object(i["h"])("div",R,[(Object(i["r"])(!0),Object(i["e"])(i["a"],null,Object(i["x"])(n.timeLimits,(function(e){return Object(i["r"])(),Object(i["e"])("div",{class:"time-setting",key:e.name},[Object(i["h"])("label",{for:e.name},Object(i["B"])(e.title),9,["for"]),Object(i["h"])(s,{name:e.name,modelValue:r.form.time[e.name],"onUpdate:modelValue":function(t){return r.form.time[e.name]=t},rules:r.timeRules,id:e.name,value:e.value},{default:Object(i["I"])((function(e){var t=e.field,n=e.errorMessage;return[Object(i["h"])("input",Object(i["n"])(t,{type:"number"}),null,16),n?(Object(i["r"])(),Object(i["e"])("span",N,Object(i["B"])(n),1)):Object(i["f"])("",!0)]})),_:2},1032,["name","modelValue","onUpdate:modelValue","rules","id","value"])])})),128))])]),Object(i["h"])("article",U,[D,Object(i["h"])("div",V,[(Object(i["r"])(!0),Object(i["e"])(i["a"],null,Object(i["x"])(n.fonts,(function(e){return Object(i["r"])(),Object(i["e"])("div",{key:e.name,style:{fontFamily:e.name+", sans-serif"},class:["font-setting",e.isActive?"active":""]},[Object(i["h"])(s,{type:"radio",hidden:"",name:"font-type",value:e.name,modelValue:r.form.font,"onUpdate:modelValue":function(e){return r.form.font=e}},null,8,["value","modelValue","onUpdate:modelValue"]),Object(i["h"])("label",{onClick:function(){return a.fontChange(e)}},"Aa",8,["onClick"])],6)})),128))])]),Object(i["h"])("article",z,[$,Object(i["h"])("div",J,[(Object(i["r"])(!0),Object(i["e"])(i["a"],null,Object(i["x"])(n.colors,(function(e){return Object(i["r"])(),Object(i["e"])("div",{class:["font-setting",e.isActive?"active":""],key:e.name},[Object(i["J"])(Object(i["h"])("input",{type:"radio",hidden:"",name:"color-type",value:e.hexCode,"onUpdate:modelValue":function(e){return r.form.color=e}},null,8,["value","onUpdate:modelValue"]),[[i["E"],r.form.color]]),Object(i["h"])("label",{style:{backgroundColor:e.hexCode},onClick:function(){return a.colorChange(e)}},[Object(i["J"])(Object(i["h"])("i",{"data-color":JSON.stringify(e),class:"material-icons"},"check",8,["data-color"]),[[i["F"],e.isActive]])],12,["onClick"])],2)})),128))])]),Object(i["h"])("button",{disabled:!t.valid,class:"apply",type:"submit"},"Apply",8,["disabled"])]})),_:1},8,["onSubmit"])]})),_:1},8,["hide-modal","onCloseModal"])],64)}n("159b");var q=n("7bb1"),H=n("506a"),Y={class:"modal-header"},K=Object(i["h"])("h3",{class:"modal-title"},"Settings",-1),Q=Object(i["h"])("i",{class:"material-icons"},"close",-1),G={class:"modal-content"},W=Object(i["g"])("No Content");function Z(e,t,n,o,r,a){return Object(i["r"])(),Object(i["e"])("div",{class:["overlay",n.hideModal?"":"open"]},[Object(i["h"])("div",{class:["modal",n.hideModal?"hide":""]},[Object(i["h"])("div",Y,[K,Object(i["h"])("button",{class:"modal-close",onClick:t[1]||(t[1]=function(){return a.closeModal&&a.closeModal.apply(a,arguments)})},[Q])]),Object(i["h"])("div",G,[Object(i["y"])(e.$slots,"default",{},(function(){return[W]}))])],2)],2)}var ee={emits:["closeModal","openModal"],name:"Modal",props:{hideModal:{required:!0,type:Boolean}},methods:{closeModal:function(){this.$emit("close-modal")}}};n("abcf");ee.render=Z;var te=ee,ne={emits:["close-modal","open-modal","color-changed","font-changed","save-changes"],props:["hideModal","colors","fonts","timeLimits"],name:"Settings",data:function(){return{selectedColor:null,selectedFont:null,MAX_VALUES_TIMER:{pomodoro:50,shortBreak:10,longBreak:20},form:{time:{pomodoro:0,shortBreak:0,longBreak:0},font:"",color:""},timeRules:H["a"]().positive().integer().typeError("Please provider a positive integer value").required().typeError("Please provider a positive integer value").min(1,"You must provide at least one positive integer value").max(50,"Is not recomended to do a task iteration longer than 50 minutes")}},components:{Modal:te,Field:q["a"],Form:q["b"]},methods:{openModal:function(){this.$emit("open-modal")},closeModal:function(){this.$emit("close-modal")},isCurrentColor:function(e){return this.colors.find((function(t){return t.isActive&&t.name===e.name}))},isCurrentFont:function(e){return this.fonts.find((function(t){return t.isActive&&t.name===e.name}))},colorChange:function(e){this.isCurrentColor(e)||(this.selectedColor=e,this.form.font=e.hex,this.$emit("color-changed",e))},fontChange:function(e){this.isCurrentFont(e)||(this.selectedFont=e,this.form.font=e.name,this.$emit("font-changed",e))},formatTimeLimits:function(){var e=[];for(var t in this.form.time)e.push({name:t,value:this.form.time[t]});return e},saveChanges:function(){this.$emit("save-changes",{color:this.selectedColor,font:this.selectedFont,timeLimits:this.formatTimeLimits()})}},mounted:function(){var e=this;this.timeLimits.forEach((function(t){void 0!==e.form.time[t.name]&&(e.form.time[t.name]=t.value)})),this.form.font=this.fonts.find((function(e){return e.isActive})).name,this.form.color=this.colors.find((function(e){return e.isActive})).hexCode}};n("3b1d");ne.render=X;var ie=ne,oe=n("5530"),re=(n("dca8"),n("d4ec")),ae=n("bee2"),se=(n("caad"),function(){function e(t){if(Object(re["a"])(this,e),!["sessionstorage","localstorage"].includes(t.toLowerCase()))throw new Error("Storage ".concat(t," not supported"));this.storageInstance="sessionstorage"===t.toLowerCase()?sessionStorage:localStorage}return Object(ae["a"])(e,[{key:"setItem",value:function(e,t){this.storageInstance.setItem(e,JSON.stringify(t))}},{key:"getItem",value:function(e){return JSON.parse(this.storageInstance.getItem(e))}}]),e}());function ce(){try{var e=window["localStorage"],t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(n){return n instanceof DOMException&&(22===n.code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUOTA_REACHED"===n.name)&&e&&0!==e.length}}var le=Object.freeze({colors:[{name:"violet",isActive:!0,hexCode:"#da7ffc"},{name:"blue",isActive:!1,hexCode:"#73f0f7"},{name:"orange",isActive:!1,hexCode:"#f66d6d"}],fonts:[{name:"Montserrat",isActive:!0,className:"montserrat"},{name:"Poppins",isActive:!1,className:"poppins"},{name:"Fira Sans",isActive:!1,className:"fira-sans"}],timeLimits:[{name:"pomodoro",title:"pomodoro",value:25},{name:"shortBreak",title:"short break",value:5},{name:"longBreak",title:"long break",value:15}]});function me(){if(ce){var e=new se("localStorage");return Object.freeze({timeLimits:e.getItem("timeLimits")||Object(s["a"])(le.timeLimits),colors:e.getItem("colors")||Object(s["a"])(le.colors),fonts:e.getItem("fonts")||Object(s["a"])(le.fonts)})}return Object(oe["a"])({},le)}var ue=me(),de=ue.timeLimits,he=ue.colors,fe=ue.fonts,be={name:"App",data:function(){return{title:"pomodoro",hideModal:!0,root:null,body:null,tabs:[{isActive:!0,text:"pomodoro",component:"Pomodoro"},{isActive:!1,text:"short break",component:"ShortBreak"},{isActive:!1,text:"long break",component:"LongBreak"}],colors:Object(s["a"])(he),fonts:Object(s["a"])(fe),timeLimits:Object(s["a"])(de),storage:new se("localStorage")}},computed:{currentTabComponent:function(){var e=this.tabs.find((function(e){return e.isActive})).component;return e},pomodoroLimit:function(){return 60*this.timeLimits.find((function(e){return"pomodoro"===e.name})).value},shortBreakLimit:function(){return 60*this.timeLimits.find((function(e){return"shortBreak"===e.name})).value},longBreakLimit:function(){return 60*this.timeLimits.find((function(e){return"longBreak"===e.name})).value},currentColor:function(){return this.colors.find((function(e){return e.isActive}))},currentFont:function(){return this.fonts.find((function(e){return e.isActive}))}},methods:{changeTab:function(e){e.isActive||(this.tabs=this.tabs.map((function(t){return e.text===t.text?t.isActive=!0:t.isActive=!1,t})))},colorChanged:function(e){this.colors=this.colors.map((function(t){return e.name===t.name?t.isActive=!0:t.isActive=!1,t})),this.storage.setItem("colors",this.colors)},setColor:function(e){this.root.style.setProperty("--active-color",e.hexCode)},fontChanged:function(e){this.fonts=this.fonts.map((function(t){return e.name===t.name?t.isActive=!0:t.isActive=!1,t})),this.storage.setItem("fonts",this.fonts)},setFont:function(e){this.body.className=e.className},applyNewTimeLimits:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.timeLimits=this.timeLimits.map((function(t){var n=e.findIndex((function(e){return e.name===t.name}));return n>=0&&+e[n].value!==t.value&&(t.value=+e[n].value),t})),this.storage.setItem("timeLimits",this.timeLimits)},saveChanges:function(e){var t=e.color,n=e.font,i=e.timeLimits;t&&this.setColor(t),n&&this.setFont(n),i&&this.applyNewTimeLimits(i),this.hideModal=!0}},components:{Pomodoro:y,ShortBreak:A,LongBreak:T,Settings:ie,Nav:B},mounted:function(){this.root=document.querySelector(":root"),this.body=document.querySelector("body"),this.setColor(this.currentColor),this.setFont(this.currentFont)}};n("c1eb");be.render=a;var ve=be;Object(i["d"])(ve).mount("#app")},"742f":function(e,t,n){"use strict";n("c8c9")},"886f":function(e,t,n){},"91af":function(e,t,n){},abcf:function(e,t,n){"use strict";n("23e1")},c1eb:function(e,t,n){"use strict";n("91af")},c760:function(e,t,n){"use strict";n("886f")},c8c9:function(e,t,n){},e3de:function(e,t,n){}});
//# sourceMappingURL=app.17f26292.js.map